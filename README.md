# 八阶段序态循环与生存焦虑驱动注意力实验

这是一个可解释AI实验平台，旨在演示"能量→信号→数据→信息→知识→智慧→决策→动作→能量"八阶段序态循环(OrderState Cycle)及"生存焦虑驱动Attention"机制。

## 项目核心理念

传统AI模型往往是"感知黑箱"，而显式序态循环(OrderState)理论为AI系统提供了清晰的认知架构：

1. **能量(Energy)** - 智能体的基础资源，决定行动能力和生存状态
2. **信号(Signal)** - 从环境中感知到的原始输入
3. **数据(Data)** - 经过初步处理的结构化信息
4. **信息(Information)** - 经注意力过滤和价值判断后的有用数据
5. **知识(Knowledge)** - 对信息的整合理解和模式识别
6. **智慧(Wisdom)** - 基于知识形成的决策原则和价值判断
7. **决策(Decision)** - 最终选择的行动方案
8. **动作(Action)** - 实际执行的行为，消耗能量并影响环境

这种显式架构带来以下核心优势：

* 透明化的决策过程，可追溯每个环节
* 动态资源管理与自适应策略
* 模块化设计便于局部优化和迁移
* 天然支持自驱动探索与好奇心

## 项目特色

本项目最新版本强化了显式序态循环的可视化功能，现在您可以：

* **实时观察八阶段循环流程**：直观展示从能量到动作再到能量的完整闭环
* **跟踪每个阶段的数据变化**：查看数据如何在各阶段转换和流动
* **深入了解决策过程**：探索注意力分配和焦虑影响决策的完整路径
* **比较不同智能体策略**：对比有无能量管理的智能体在各阶段的差异

## 实验对象

本项目实现了两种智能体进行对比实验：

1. **基线智能体 (BaselineAgent)**: 使用注意力机制但不考虑能量管理
2. **能量智能体 (EnergyAgent)**: 使用注意力机制并考虑能量管理，其中生存焦虑会影响注意力分配

通过比较这两种智能体的性能，我们可以观察到生存焦虑如何影响决策过程。

## 生存焦虑驱动注意力

当能量智能体的能量接近阈值时，会产生生存焦虑，这种焦虑会影响注意力分配：

* 焦虑度越高，注意力分布越集中（更尖锐）
* 焦虑度越低，注意力分布越均匀（更平缓）

这模拟了生物在生存压力下的注意力聚焦现象，为AI系统带来更自然的适应性行为。

## 项目结构

```
miniexp/
├── env.py              # 环境定义 (GridWorld)
├── modules/
│   ├── attention.py    # 注意力模块 (AttentionModule)
│   └── energy.py       # 能量模块 (EnergyModule)
├── agent.py            # 智能体定义 (BaseAgent, BaselineAgent, EnergyAgent)
├── metrics.py          # 评价指标工具 (MetricsRecorder)
├── main.py             # 实验驱动脚本
└── web/                # Web可视化界面
    ├── app.py          # Flask应用
    ├── templates/      # HTML模板
    └── static/         # 静态资源（CSS, JS等）
        ├── js/
        │   ├── main.js           # 主要交互逻辑
        │   └── cycle_visualizer.js  # 序态循环可视化组件
        └── css/
            └── style.css         # 样式定义
```

## 安装依赖

项目需要以下Python库：

```
numpy
pandas
matplotlib (可选，用于可视化)
flask
flask-socketio
eventlet
```

可以通过以下命令安装：

```
pip install numpy pandas matplotlib flask flask-socketio eventlet
```

## 运行方式

强烈推荐使用Web界面模式，以便体验完整的序态循环可视化：

```
python run_web_experiment.py
```

也可以使用命令行模式（不包含可视化功能）：

```
python run_experiment.py
```

## 使用指南

### 1. 设置实验参数

在左侧控制面板调整网格大小、回合数、能量设置等参数：
- **网格宽度/高度**：环境的大小
- **回合数**：每个智能体执行的实验次数
- **初始能量**：能量智能体的起始能量值
- **能量阈值**：低于此值会触发焦虑反应
- **显示间隔**：可视化更新速度

### 2. 开始实验

点击"开始实验"按钮，系统将依次运行基线智能体和能量智能体。实验过程中，您可以随时点击"停止实验"按钮终止当前实验。

### 3. 观察序态循环

中央区域的八阶段循环图将实时展示当前活跃的阶段和数据流动：

* 点击任意阶段节点可查看详细数据
* 观察焦虑状态如何影响注意力分配
* 跟踪能量水平变化与决策调整的关系

### 4. 分析实验结果

实验完成后，查看右侧结果区域的对比数据和图表，分析两种智能体的性能差异：
- 成功率
- 平均步数
- 能量耗尽失败率
- 平均剩余能量

## 八阶段循环实现细节

本项目中每个阶段的实现方式：

1. **能量(Energy)** - 由`EnergyModule`管理，包括初始能量、消耗和恢复机制
2. **信号(Signal)** - 环境状态和智能体位置信息
3. **数据(Data)** - 通过`perceive`方法提取的原始特征向量
4. **信息(Information)** - 经`AttentionModule`过滤后的加权特征
5. **知识(Knowledge)** - 动作空间与对应价值的映射关系
6. **智慧(Wisdom)** - 根据当前焦虑状态调整的行动策略
7. **决策(Decision)** - `decide`方法选择的最终动作
8. **动作(Action)** - 执行并影响环境，同时消耗能量

## Web界面说明

Web界面分为三个主要部分：

### 左侧控制面板
- 实验参数设置（网格大小、回合数、能量设置等）
- 实时状态显示（当前智能体、步数、能量、焦虑度）
- 开始/停止按钮

### 中间可视化区域
- 网格世界实时显示，包括：
  - 智能体位置（绿色：基线智能体，蓝色：能量智能体）
  - 目标位置（红色）
  - 能量状态指示（对能量智能体）
- 八阶段序态循环可视化
- 实验信息区域，显示重要事件和状态变化

### 右侧结果区域
- 实验结果数据表格
- 对比图表，包括成功率、平均步数、能量耗尽率等

## 贡献与扩展

我们欢迎对序态循环理论和实现的贡献，特别是以下方向：

* 扩展知识表示和推理能力
* 增强多智能体协作机制
* 添加新的环境和任务类型
* 改进序态循环的可视化和交互方式
* 将序态循环应用到更复杂的决策任务中

## 引用与联系

如果您在研究或项目中使用了本项目的代码或思想，请引用我们的工作。
如有任何问题或建议，请通过GitHub issues与我们联系。 