# 八阶段闭环与生存焦虑驱动注意力实验

这是一个最小可解释实验程序，旨在演示"能量→信号→数据→信息→知识→智慧→决策→动作→能量"八阶段闭环及"生存焦虑驱动Attention"机制。

## 项目概述

该项目通过简单的网格世界环境，比较了两种智能体：
1. **基线智能体 (BaselineAgent)**: 使用注意力机制但不考虑能量管理
2. **能量智能体 (EnergyAgent)**: 使用注意力机制并考虑能量管理，其中生存焦虑会影响注意力分配

通过比较这两种智能体的性能，我们可以观察到生存焦虑如何影响决策过程。

## 项目结构

```
miniexp/
├── env.py              # 环境定义 (GridWorld)
├── modules/
│   ├── attention.py    # 注意力模块 (AttentionModule)
│   └── energy.py       # 能量模块 (EnergyModule)
├── agent.py            # 智能体定义 (BaseAgent, BaselineAgent, EnergyAgent)
├── metrics.py          # 评价指标工具 (MetricsRecorder)
├── main.py             # 实验驱动脚本
└── web/                # Web可视化界面
    ├── app.py          # Flask应用
    ├── templates/      # HTML模板
    └── static/         # 静态资源（CSS, JS等）
```

## 安装依赖

项目需要以下Python库：
```
numpy
pandas
matplotlib (可选，用于可视化)
flask
flask-socketio
```

可以通过以下命令安装：
```bash
pip install numpy pandas matplotlib flask flask-socketio
```

## 运行实验

### 命令行模式

从项目根目录运行：
```bash
python run_experiment.py
```

### Web可视化模式（推荐）

从项目根目录运行：
```bash
python run_web_experiment.py
```

这将启动一个Web服务器，并自动打开浏览器。在Web界面上，您可以：

1. 调整实验参数（网格大小、回合数、能量设置等）
2. 实时观察智能体在网格世界中的移动
3. 监控能量和焦虑度的变化
4. 查看实验结果数据和比较图表

## 核心概念说明

### 八阶段闭环

本项目模拟了智能体的完整感知-决策-行动闭环：

1. **能量 → 信号**: 智能体当前的能量状态影响内部焦虑信号
2. **信号 → 数据**: 环境状态被感知并转化为特征表示
3. **数据 → 信息**: 注意力机制处理特征，生成信息
4. **信息 → 知识**: 智能体内部模型解释信息
5. **知识 → 智慧**: 智能体根据知识权衡不同决策
6. **智慧 → 决策**: 选择最佳行动
7. **决策 → 动作**: 执行选定的动作
8. **动作 → 能量**: 行动消耗能量，循环回到第一阶段

### 生存焦虑驱动注意力

当能量智能体的能量接近阈值时，会产生生存焦虑，这种焦虑会影响注意力分配：

- 焦虑度越高，注意力分布越集中（更尖锐）
- 焦虑度越低，注意力分布越均匀（更平缓）

这模拟了生物在生存压力下的注意力聚焦现象。

## 实验结果解释

实验会输出两种智能体的多项性能指标对比，包括：
- 成功率
- 平均步数
- 能量耗尽失败率
- 平均剩余能量

通过这些指标，我们可以分析生存焦虑对决策效率的影响。

## Web可视化界面说明

Web界面分为三个主要部分：

### 左侧控制面板
- 实验参数设置（网格大小、回合数、能量设置等）
- 实时状态显示（当前智能体、步数、能量、焦虑度）
- 开始/停止按钮

### 中间可视化区域
- 网格世界实时显示，包括：
  - 智能体位置（绿色：基线智能体，蓝色：能量智能体）
  - 目标位置（红色）
  - 能量状态指示（对能量智能体）
- 实验信息区域，显示重要事件和状态变化

### 右侧结果区域
- 实验结果数据表格
- 对比图表，包括成功率、平均步数、能量耗尽率等

使用此界面，您可以直观地观察智能体的行为，以及生存焦虑如何影响其决策过程。 