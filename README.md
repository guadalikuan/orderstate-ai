# 八阶段序态循环与生存焦虑驱动注意力实验

这是一个可解释AI实验平台，旨在演示"能量→信号→数据→信息→知识→智慧→决策→动作→能量"八阶段序态循环(OrderState Cycle)及"生存焦虑驱动Attention"机制。

## 项目核心理念

传统AI模型往往是"感知黑箱"，而显式序态循环(OrderState)理论为AI系统提供了清晰的认知架构。这一理论源于对生物智能系统的观察，特别是能量约束下的认知过程。通过将认知过程显式地分解为八个相互关联的阶段，我们能够：

1. **建立可解释的认知模型**：每个阶段都有明确的输入输出和转换规则
2. **模拟生物智能的适应性**：通过能量约束和焦虑机制实现动态调整
3. **实现透明的决策过程**：可以追踪每个决策背后的完整推理链
4. **支持渐进式学习**：各阶段可以独立优化，同时保持整体协调

### 八阶段循环的深层含义

1. **能量(Energy)** - 智能体的基础资源，决定行动能力和生存状态
   * 能量不仅影响行动能力，还通过焦虑机制影响认知过程
   * 能量管理模拟了生物体的新陈代谢和资源分配机制

2. **信号(Signal)** - 从环境中感知到的原始输入
   * 包括视觉、听觉等多模态感知
   * 信号的质量和范围受能量状态影响

3. **数据(Data)** - 经过初步处理的结构化信息
   * 将原始信号转换为可处理的特征表示
   * 数据提取的深度和广度受注意力资源限制

4. **信息(Information)** - 经注意力过滤和价值判断后的有用数据
   * 注意力机制根据当前需求筛选重要信息
   * 焦虑水平影响注意力的分配和聚焦

5. **知识(Knowledge)** - 对信息的整合理解和模式识别
   * 将当前信息与历史经验结合
   * 形成对环境的认知模型和预测能力

6. **智慧(Wisdom)** - 基于知识形成的决策原则和价值判断
   * 权衡短期和长期目标
   * 考虑能量状态和生存需求

7. **决策(Decision)** - 最终选择的行动方案
   * 基于当前状态和长期目标
   * 受焦虑水平和能量状态影响

8. **动作(Action)** - 实际执行的行为，消耗能量并影响环境
   * 动作执行消耗能量
   * 环境反馈影响后续循环

## 项目特色

本项目最新版本强化了显式序态循环的可视化功能，现在您可以：

* **实时观察八阶段循环流程**：直观展示从能量到动作再到能量的完整闭环
* **跟踪每个阶段的数据变化**：查看数据如何在各阶段转换和流动
* **深入了解决策过程**：探索注意力分配和焦虑影响决策的完整路径
* **比较不同智能体策略**：对比有无能量管理的智能体在各阶段的差异
* **分析能量-焦虑-注意力-决策的完整链路**：理解生存压力如何影响认知过程

## 项目架构

```
miniexp/
├── env.py              # 环境定义 (GridWorld)
├── modules/            # 八阶段循环核心模块
│   ├── energy.py       # 能量模块 (EnergyModule)
│   ├── signal.py       # 信号模块 (SignalModule)
│   ├── data.py         # 数据处理模块 (DataModule)
│   ├── information.py  # 信息处理模块 (InformationModule)
│   ├── knowledge.py    # 知识表示模块 (KnowledgeModule)
│   ├── wisdom.py       # 智慧决策模块 (WisdomModule)
│   ├── decision.py     # 决策模块 (DecisionModule)
│   ├── action.py       # 动作执行模块 (ActionModule)
│   ├── attention.py    # 注意力管理模块 (AttentionModule)
│   └── environment.py  # 环境交互模块 (EnvironmentModule)
├── agent.py            # 智能体定义 (BaseAgent, BaselineAgent, EnergyAgent)
├── metrics.py          # 评价指标工具 (MetricsRecorder)
├── orderstate.py       # 序态循环核心实现
├── main.py             # 实验驱动脚本
└── web/                # Web可视化界面
    ├── app.py          # Flask应用
    ├── templates/      # HTML模板
    └── static/         # 静态资源
        ├── js/
        │   ├── main.js           # 主要交互逻辑
        │   └── cycle_visualizer.js  # 序态循环可视化组件
        └── css/
            └── style.css         # 样式定义
```

## 模块说明

### 核心模块

1. **能量模块 (EnergyModule)**
   * 管理智能体的能量状态
   * 实现能量消耗和恢复机制
   * 计算焦虑水平

2. **信号模块 (SignalModule)**
   * 处理原始环境感知
   * 实现多模态信号融合
   * 信号质量评估

3. **数据处理模块 (DataModule)**
   * 特征提取和表示
   * 数据预处理和标准化
   * 数据质量评估

4. **信息处理模块 (InformationModule)**
   * 注意力分配
   * 信息过滤和加权
   * 信息重要性评估

5. **知识表示模块 (KnowledgeModule)**
   * 知识存储和检索
   * 模式识别和预测
   * 经验整合

6. **智慧决策模块 (WisdomModule)**
   * 价值判断
   * 目标权衡
   * 策略生成

7. **决策模块 (DecisionModule)**
   * 动作选择
   * 风险评估
   * 决策优化

8. **动作执行模块 (ActionModule)**
   * 动作执行
   * 能量消耗计算
   * 环境交互

### 辅助模块

1. **注意力管理模块 (AttentionModule)**
   * 注意力资源分配
   * 焦虑影响模拟
   * 注意力恢复机制

2. **环境交互模块 (EnvironmentModule)**
   * 环境状态更新
   * 奖励计算
   * 状态转换

## 实验对象

本项目实现了两种智能体进行对比实验：

1. **基线智能体 (BaselineAgent)**
   * 使用注意力机制但不考虑能量管理
   * 作为对照实验的基准
   * 展示传统AI模型的局限性

2. **能量智能体 (EnergyAgent)**
   * 完整实现八阶段序态循环
   * 考虑能量管理和焦虑影响
   * 展示生物启发式AI的优势

## 生存焦虑驱动注意力

当能量智能体的能量接近阈值时，会产生生存焦虑，这种焦虑会影响注意力分配：

* **焦虑度越高，注意力分布越集中**
  * 更关注生存相关信号
  * 忽略非关键信息
  * 决策更加保守

* **焦虑度越低，注意力分布越均匀**
  * 更全面的环境感知
  * 更灵活的决策
  * 更强的探索能力

这模拟了生物在生存压力下的注意力聚焦现象，为AI系统带来更自然的适应性行为。

## 安装依赖

项目需要以下Python库：

```
numpy
pandas
matplotlib (可选，用于可视化)
flask
flask-socketio
eventlet
```

可以通过以下命令安装：

```
pip install numpy pandas matplotlib flask flask-socketio eventlet
```

## 运行方式

强烈推荐使用Web界面模式，以便体验完整的序态循环可视化：

```
python run_web_experiment.py
```

也可以使用命令行模式（不包含可视化功能）：

```
python run_experiment.py
```

## 使用指南

### 1. 设置实验参数

在左侧控制面板调整网格大小、回合数、能量设置等参数：
- **网格宽度/高度**：环境的大小
- **回合数**：每个智能体执行的实验次数
- **初始能量**：能量智能体的起始能量值
- **能量阈值**：低于此值会触发焦虑反应
- **显示间隔**：可视化更新速度

### 2. 开始实验

点击"开始实验"按钮，系统将依次运行基线智能体和能量智能体。实验过程中，您可以随时点击"停止实验"按钮终止当前实验。

### 3. 观察序态循环

中央区域的八阶段循环图将实时展示当前活跃的阶段和数据流动：

* 点击任意阶段节点可查看详细数据
* 观察焦虑状态如何影响注意力分配
* 跟踪能量水平变化与决策调整的关系

### 4. 分析实验结果

实验完成后，查看右侧结果区域的对比数据和图表，分析两种智能体的性能差异：
- 成功率
- 平均步数
- 能量耗尽失败率
- 平均剩余能量

## Web界面说明

Web界面分为三个主要部分：

### 左侧控制面板
- 实验参数设置（网格大小、回合数、能量设置等）
- 实时状态显示（当前智能体、步数、能量、焦虑度）
- 开始/停止按钮

### 中间可视化区域
- 网格世界实时显示，包括：
  - 智能体位置（绿色：基线智能体，蓝色：能量智能体）
  - 目标位置（红色）
  - 能量状态指示（对能量智能体）
- 八阶段序态循环可视化
- 实验信息区域，显示重要事件和状态变化

### 右侧结果区域
- 实验结果数据表格
- 对比图表，包括成功率、平均步数、能量耗尽率等

## 贡献与扩展

我们欢迎对序态循环理论和实现的贡献，特别是以下方向：

* **理论扩展**
  * 深化对八阶段循环的理论研究
  * 探索更多生物启发机制
  * 建立更完整的认知模型

* **技术实现**
  * 扩展知识表示和推理能力
  * 增强多智能体协作机制
  * 添加新的环境和任务类型
  * 改进序态循环的可视化和交互方式

* **应用探索**
  * 将序态循环应用到更复杂的决策任务
  * 探索在机器人控制中的应用
  * 研究在游戏AI中的潜力

## 引用与联系

如果您在研究或项目中使用了本项目的代码或思想，请引用我们的工作。
如有任何问题或建议，请通过GitHub issues与我们联系。 